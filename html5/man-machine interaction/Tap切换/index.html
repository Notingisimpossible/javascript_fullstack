<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>tab</title>
		<link rel="stylesheet" href="css/reset.css">
    <style>
    .bgbox{
       width: 1000px;
       margin:50px auto;    
       height:400px ; 
       background-color: #00FFFF;
   }
   .tab-top {
    width: 1000px;
    }
 
    .tab-top li {
        width: 250px;
        line-height: 40px;
        list-style: none;
        float: left;
        border-radius: 20px;
        cursor:pointer;
    }
    .tabbox .boxlist {
        display: none;
        width: 1000px;
        height: 400px;
        border: 1px solid #ccc;
        background:#00FFFF;
        }
        .tabbox li{
    	width: 230px;
        border: 1px solid #ccc;
        list-style: none;
        float: left;
        height: 360px;
        margin-left: 5px;
    }
    .active {
        color: red;
        background: #43D7D2;
    }
</style>
</head>
 
<script>
    var ali = document.getElementsByTagName("li");
    var adiv = document.getElementsByClassName("boxlist");
    var timer=null;
    index=0;
    
    function slideImg() {
    var bgbox = document.getElementById("bgbox");
    startAutoPlay();
    bgbox.onmouseover = function(){
        stopAutoPlay();
    }
    bgbox.onmouseout = function(){
        startAutoPlay();
    }
}
    bgbox.ali[index].onClick=function(){
    	stopAutoPlay();
    	tab();
    }
    function startAutoPlay(){
    timer = setInterval(function(){
        
        if(index>3){
            index = 0;
        }
        changeImg();
        index++;
    },1000);
}

function stopAutoPlay(){ 
    if (timer) {
        clearInterval(timer);
    }
}
function changeImg(){  
    for(var i=0;i<adiv.length;i++){
        ali[i].className = "";
        adiv[i].style.display = "none";
    }
    adiv[index].style.display = "block";  
    ali[index].className = "active";
}


 function tab() {
        for (var i = 0; i < ali.length; i++) {
            ali[i].index = i;
            ali[i].onclick = function () {
                //alert(this.index );   
                for (var j = 0; j < ali.length; j++) {
                    ali[j].className="";
                    adiv[j].style.display = "none";
                    ali[this.index].className="active";
                    adiv[this.index].style.display = "block";
                }
            }
        }
    }
</script>
 
 <body onload="slideImg()">
    <div class="bgbox" id="bgbox">
        <div class="tab-top" id="tab-top">
            <li class="active">最近热播</li>
            <li >VIP电影榜</li>
            <li >免费电影榜</li>
            <li >喜剧电影榜</li>
        </div>
        <div class="tabbox" id="tabbox">
            <div class="boxlist "style="display: block;">
            	<ul>
            		<li>
            			<img src="img/1.jpg"/>
            		</li>
            		<li>
            			<img src="img/2.jpg"/>
            		</li>
            		<li>
            			<img src="img/3.jpg"/>
            		</li>
            		<li>
            			<img src="img/4.jpg"/>
            		</li>
            	</ul>
            </div>
            <div class="boxlist">
            	<ul>
            		<li>
            			<img src="img/5.jpg"/>
            		</li>
            		<li>
            			<img src="img/6.jpg"/>
            		</li>
            		<li>
            			<img src="img/7.jpg"/>
            		</li>
            		<li>
            			<img src="img/8.jpg"/>
            		</li>
            	</ul>
            </div>
            <div class="boxlist">
            	<ul>
            		<li>
            			<img src="img/9.jpg"/>
            		</li>
            		<li>
            			<img src="img/10.jpg"/>
            		</li>
            		<li>
            			<img src="img/11.jpg"/>
            		</li>
            		<li>
            			<img src="img/12.jpg"/>
            		</li>
            	</ul>
            </div>
            <div class="boxlist">
            	<ul>
            		<li>
            			<img src="img/13.jpg"/>
            		</li>
            		<li>
            			<img src="img/14.jpg"/>
            		</li>
            		<li>
            			<img src="img/15.jpg"/>
            		</li>
            		<li>
            			<img src="img/16.jpg"/>
            		</li>
            	</ul>
            </div>
        </div>
    </div>
</body>
</html>
